INCLUDE(CMakeForceCompiler)

SET(CMAKE_SYSTEM_NAME Generic-XBOXONE)

IF(NOT $ENV{VS140COMNTOOLS} EQUAL "")
	STRING(REGEX REPLACE "\\\\" "/" VS140CT_DIR $ENV{VS140COMNTOOLS})
	
	SET(XBOXONE_MSVC_VERSION 140)

	CMAKE_FORCE_C_COMPILER("${VS140CT_DIR}../../vc/bin/amd64/cl.exe" MSVC)

	#SET(CMAKE_C_COMPILER "${VS140CT_DIR}../../vc/bin/amd64/cl.exe")

	SET(CMAKE_C_COMPILER_TARGET Durango)

	SET(CMAKE_C_LINKER_SUPPORTS_PDB ON)

	CMAKE_FORCE_CXX_COMPILER("${VS140CT_DIR}../../vc/bin/amd64/cl.exe" MSVC)

	#SET(CMAKE_CXX_COMPILER "${VS140CT_DIR}../../vc/bin/amd64/cl.exe")

	SET(CMAKE_CXX_COMPILER_TARGET Durango)

	SET(CMAKE_CXX_LINKER_SUPPORTS_PDB ON)
ELSE()
	MESSAGE("Visual Studio 2015 Common Tools environment variable not defined!")
ENDIF()
