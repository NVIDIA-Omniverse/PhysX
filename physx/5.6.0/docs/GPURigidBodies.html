

<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>GPU Simulation &#8212; PhysX SDK Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/nvidia-sphinx-theme.css?v=c5edffae" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=767de534" />
    <link rel="stylesheet" type="text/css" href="../_static/api.css?v=6f210184" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script rel="preload" src="../_static/modal-table.js"></script>
    <script src="../_static/documentation_options.js?v=df23e5c0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scrollspy-patch.js?v=edc4054a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/GPURigidBodies';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '../versions1.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '5.6.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="../_static/version-patch.js?v=c24f8c5d"></script>
    <script rel="preload" src="../_static/toctree.js"></script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Direct GPU API" href="DirectGPUAPI.html" />
    <link rel="prev" title="Articulations" href="Articulations.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Mar 24, 2025"/>


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="PhysX SDK Documentation - Home"/>
    <script>document.write(`<img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark" alt="PhysX SDK Documentation - Home"/>`);</script>
  
  
    <p class="title logo__title">PhysX SDK Documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/PhysX" title="github" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">github</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/nvidiaomniverse" title="twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCSKUoczbGAcMld7HjpCR8OA" title="youtube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">youtube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.instagram.com/nvidiaomniverse" title="instagram" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-instagram fa-lg" aria-hidden="true"></i>
            <span class="sr-only">instagram</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.nvidia.com/en-us/omniverse/" title="www" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-globe fa-lg" aria-hidden="true"></i>
            <span class="sr-only">www</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/showcase/nvidia-omniverse" title="linkedin" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">linkedin</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.twitch.tv/nvidiaomniverse" title="twitch" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitch fa-lg" aria-hidden="true"></i>
            <span class="sr-only">twitch</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="PhysX SDK Documentation - Home"/>
    <script>document.write(`<img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark" alt="PhysX SDK Documentation - Home"/>`);</script>
  
  
    <p class="title logo__title">PhysX SDK Documentation</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/PhysX" title="github" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">github</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/nvidiaomniverse" title="twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCSKUoczbGAcMld7HjpCR8OA" title="youtube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">youtube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.instagram.com/nvidiaomniverse" title="instagram" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-instagram fa-lg" aria-hidden="true"></i>
            <span class="sr-only">instagram</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.nvidia.com/en-us/omniverse/" title="www" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-globe fa-lg" aria-hidden="true"></i>
            <span class="sr-only">www</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/showcase/nvidia-omniverse" title="linkedin" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">linkedin</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.twitch.tv/nvidiaomniverse" title="twitch" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitch fa-lg" aria-hidden="true"></i>
            <span class="sr-only">twitch</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">


<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">


<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
  </div>
  
  <div id="rtd-footer-container"></div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">GPU Simulation</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="gpu-simulation">
<span id="gpurigidbodies"></span><h1>GPU Simulation<a class="headerlink" href="#gpu-simulation" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>PhysX simulation can be configured to take advantage of CUDA capable GPUs under Linux or Windows.
This provides a performance benefit proportional to the arithmetic complexity of a scene.
It supports the entire rigid body feature-set including articulations, FEM-based soft
bodies, and particle systems. The state of GPU-accelerated simulation can be modified and
queried using the same API as used to modify and query CPU simulation, or the direct GPU API when
it is enabled.</p>
</section>
<section id="gpu-rigid-bodies">
<h2>GPU Rigid Bodies<a class="headerlink" href="#gpu-rigid-bodies" title="Link to this heading">#</a></h2>
<p>GPU rigid bodies were the first GPU simulated feature introduced to PhysX
and thus defined the structure of PhysX’s GPU simulation which was later
extended with PBD particle system and FEM deformable body actors, as well as SDF
collision geometry.</p>
<p>GPU rigid bodies are no more difficult to use than CPU rigid bodies.
GPU rigid bodies use the exact same API and same classes as CPU rigid bodies.
GPU rigid body acceleration is enabled on a per-scene basis.
If enabled, all rigid bodies occupying the scene will be processed by the GPU.
This feature is implemented in CUDA and requires SM6.0 (Pascal) or later compatible GPU.
If no compatible device is found, simulation will fall back onto the CPU and corresponding error messages will be provided.
GPU rigid bodies can easily be used in conjunction with character controllers (CCTs) and vehicles.</p>
<p>The GPU acceleration feature is split into two components: rigid body dynamics and broad phase.
These are enabled using <a class="reference internal" href="../_api_build/structPxSceneFlag.html#_CPPv4N11PxSceneFlag4Enum20eENABLE_GPU_DYNAMICSE" title="PxSceneFlag::eENABLE_GPU_DYNAMICS"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxSceneFlag::eENABLE_GPU_DYNAMICS</span></code></a> and by setting <a class="reference internal" href="../_api_build/classPxSceneDesc.html#_CPPv4N11PxSceneDesc14broadPhaseTypeE" title="PxSceneDesc::broadPhaseType"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">PxSceneDesc::broadPhaseType</span></code></a> to <a class="reference internal" href="../_api_build/structPxBroadPhaseType.html#_CPPv4N16PxBroadPhaseType4Enum4eGPUE" title="PxBroadPhaseType::eGPU"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxBroadPhaseType::eGPU</span></code></a>, respectively.
These properties are immutable properties of the scene.
In addition, you must initialize the CUDA context manager and set it on the PxSceneDesc.
A snippet demonstrating how to enable GPU rigid body simulation is provided in SnippetHelloGRB.
The code example below serves as a brief reference:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">PxCudaContextManagerDesc</span><span class="w"> </span><span class="n">cudaContextManagerDesc</span><span class="p">;</span>

<span class="n">gCudaContextManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PxCreateCudaContextManager</span><span class="p">(</span><span class="o">*</span><span class="n">gFoundation</span><span class="p">,</span><span class="w"> </span><span class="n">cudaContextManagerDesc</span><span class="p">,</span><span class="w"> </span><span class="n">PxGetProfilerCallback</span><span class="p">());</span>

<span class="n">PxSceneDesc</span><span class="w"> </span><span class="nf">sceneDesc</span><span class="p">(</span><span class="n">gPhysics</span><span class="o">-&gt;</span><span class="n">getTolerancesScale</span><span class="p">());</span>
<span class="n">sceneDesc</span><span class="p">.</span><span class="n">gravity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PxVec3</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">-9.81f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">);</span>
<span class="n">gDispatcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PxDefaultCpuDispatcherCreate</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="n">sceneDesc</span><span class="p">.</span><span class="n">cpuDispatcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gDispatcher</span><span class="p">;</span>
<span class="n">sceneDesc</span><span class="p">.</span><span class="n">filterShader</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">PxDefaultSimulationFilterShader</span><span class="p">;</span>
<span class="n">sceneDesc</span><span class="p">.</span><span class="n">cudaContextManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gCudaContextManager</span><span class="p">;</span>

<span class="n">sceneDesc</span><span class="p">.</span><span class="n">flags</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">PxSceneFlag</span><span class="o">::</span><span class="n">eENABLE_GPU_DYNAMICS</span><span class="p">;</span>
<span class="n">sceneDesc</span><span class="p">.</span><span class="n">broadPhaseType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PxBroadPhaseType</span><span class="o">::</span><span class="n">eGPU</span><span class="p">;</span>

<span class="n">gScene</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gPhysics</span><span class="o">-&gt;</span><span class="n">createScene</span><span class="p">(</span><span class="n">sceneDesc</span><span class="p">);</span>
</pre></div>
</div>
<p>Enabling GPU rigid body dynamics turns on GPU-accelerated contact generation, shape/body management and the GPU-accelerated constraint solver.
This accelerates the majority of the discrete rigid body pipeline.</p>
<p>Turning on GPU broad phase replaces the CPU broad phase with a GPU-accelerated broad phase.</p>
<p>Each can be enabled independently so, for example, you may enable GPU broad phase with CPU rigid body dynamics, CPU broad phase (SAP, MBP or ABP) with GPU rigid body dynamics or combine GPU broad phase with GPU rigid body dynamics.</p>
</section>
<section id="pdb-particle-systems">
<h2>PDB Particle Systems<a class="headerlink" href="#pdb-particle-systems" title="Link to this heading">#</a></h2>
<p>The PhysX Position-based Dynamics (PBD) particle system is a robust simulation framework designed
to handle a variety of dynamic interactions using particles. Unlike traditional particle solvers
that prioritize velocity calculations, PBD focuses on determining particle positions that satisfy
specific constraints, such as collision detection and volume preservation, before computing velocities. This method enhances
stability and allows for larger simulation time-steps.</p>
<p>A PBD particle system in PhysX requires a CUDA-capable GPU and a CUDA context manager for its creation.
The system can simulate diverse dynamics, including fluids, deformable objects, cloth, and inflatable
structures. This flexibility allows for complex simulations involving multiple materials and interaction
types. The PhysX documentation provides various snippets demonstrating the setup and configuration of PBD
particle systems, showcasing its versatility in simulating realistic physical behaviors in virtual environments.</p>
</section>
<section id="fem-deformable-bodies">
<h2>FEM Deformable Bodies<a class="headerlink" href="#fem-deformable-bodies" title="Link to this heading">#</a></h2>
<p>PhysX provides <a class="reference internal" href="DeformableBodyOverview.html#deformablebodyoverview"><span class="std std-ref">deformable body</span></a> features for simulating materials
using the Finite Element Method (FEM). <cite>Volume deformables</cite> are used to represent volumetric materials such as
rubber or biological tissues, while <cite>surface deformables</cite> are suited for thin materials like cloth or shells.</p>
<p>PhysX’s deformable body simulation requires GPU acceleration, allowing for high-performance and scalable simulations.</p>
<p>Users can configure various material properties, including Young’s Modulus, which defines stiffness, and
dynamic friction, which governs how a deformable body interacts with other objects.</p>
<p>These features provide a powerful tool for creating realistic and interactive simulations of
deformable materials in various applications, from robotics and scientific visualization to VFX and gaming.</p>
</section>
<section id="sdf-mesh-geometry">
<h2>SDF Mesh Geometry<a class="headerlink" href="#sdf-mesh-geometry" title="Link to this heading">#</a></h2>
<p>Signed Distance Field (SDF) in PhysX is a powerful tool enhancing rigid bodies collision detection. SDFs
represent the distance from any point in space to the nearest surface of a 3D object, with the sign indicating
whether the point is inside or outside the object. This method allows for highly accurate and efficient
collision detection, especially for complex and concave shapes.</p>
<p>In PhysX, SDFs are used to create detailed and precise collision boundaries without the need for
convex decomposition-based collision. This results in faster computations and more realistic physical interactions.
The SDF feature is particularly beneficial in scenarios where high precision is required, such as in simulations
involving intricate geometries or when simulating deformable body interactions with rigid bodies.</p>
<p>The implementation of SDFs in PhysX leverages the GPU for rapid calculations, ensuring that the performance impact
is minimal even in real-time applications. This makes it suitable for use in gaming, virtual reality, and other
interactive simulations where both accuracy and performance are critical.</p>
</section>
<section id="direct-gpu-api">
<h2>Direct GPU API<a class="headerlink" href="#direct-gpu-api" title="Link to this heading">#</a></h2>
<p>PhysX’s SDK provides the <a class="reference internal" href="DirectGPUAPI.html#directgpuapi"><span class="std std-ref">Direct GPU API</span></a> that allows direct access to GPU data of a PhysX scene, including simulation
state like actors’ poses and velocities, as well as control inputs like applied forces and torques. This API enables
batched direct access to GPU data for rigid dynamic objects, articulations, and shapes, facilitating efficient
integration with GPU-based applications such as end-to-end GPU reinforcement learning pipelines.</p>
<p>To use the Direct GPU API, the <a class="reference internal" href="../_api_build/structPxSceneFlag.html#_CPPv4N11PxSceneFlag4Enum22eENABLE_DIRECT_GPU_APIE" title="PxSceneFlag::eENABLE_DIRECT_GPU_API"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxSceneFlag::eENABLE_DIRECT_GPU_API</span></code></a> flag must be raised along with
<a class="reference internal" href="../_api_build/structPxSceneFlag.html#_CPPv4N11PxSceneFlag4Enum20eENABLE_GPU_DYNAMICSE" title="PxSceneFlag::eENABLE_GPU_DYNAMICS"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxSceneFlag::eENABLE_GPU_DYNAMICS</span></code></a> and <a class="reference internal" href="../_api_build/structPxBroadPhaseType.html#_CPPv4N16PxBroadPhaseType4Enum4eGPUE" title="PxBroadPhaseType::eGPU"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxBroadPhaseType::eGPU</span></code></a> broad phase type
during scene creation. The <a class="reference internal" href="../_api_build/classPxDirectGPUAPI.html#_CPPv414PxDirectGPUAPI" title="PxDirectGPUAPI"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">PxDirectGPUAPI</span></code></a> instance can then be retrieved from the scene, and its member functions
called to read from or write to GPU buffers, specifying the actor indices and data type to access.</p>
<p>The deformable body and particle system features are not covered by the Direct GPU API. Instead the corresponding APIs offer
functionality to directly access the state of the simulated objects.</p>
</section>
<section id="what-is-gpu-accelerated">
<h2>What is GPU accelerated?<a class="headerlink" href="#what-is-gpu-accelerated" title="Link to this heading">#</a></h2>
<p>The GPU simulation feature provides GPU-accelerated implementations of:</p>
<ul class="simple">
<li><p>Broad Phase</p></li>
<li><p>Contact generation</p></li>
<li><p>Shape and body management</p></li>
<li><p>Constraint solver</p></li>
</ul>
<p>All other features are performed on the CPU.</p>
<p>There are several caveats to GPU contact generation. These are as follows:</p>
<ul class="simple">
<li><p>Convex hulls require <a class="reference internal" href="../_api_build/structPxCookingParams.html#_CPPv4N15PxCookingParams12buildGPUDataE" title="PxCookingParams::buildGPUData"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">PxCookingParams::buildGPUData</span></code></a> to be set to true to build data required to perform contact generation on the GPU. The cooking function will ensure that the limits of 64 vertices and polygons for GPU contact generation will be respected, if the user raises the <a class="reference internal" href="../_api_build/structPxConvexFlag.html#_CPPv4N12PxConvexFlag4Enum15eCOMPUTE_CONVEXE" title="PxConvexFlag::eCOMPUTE_CONVEX"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxConvexFlag::eCOMPUTE_CONVEX</span></code></a> flag. Note that this may generate suboptimal convex hulls, in which case building without <a class="reference internal" href="../_api_build/structPxCookingParams.html#_CPPv4N15PxCookingParams12buildGPUDataE" title="PxCookingParams::buildGPUData"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">PxCookingParams::buildGPUData</span></code></a> raised might make more sense, but contact generation will be performed on the CPU in this case.</p></li>
<li><p>Triangle meshes require <a class="reference internal" href="../_api_build/structPxCookingParams.html#_CPPv4N15PxCookingParams12buildGPUDataE" title="PxCookingParams::buildGPUData"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">PxCookingParams::buildGPUData</span></code></a> to be set to true to build data required to process the mesh on the GPU. If this flag is not set during cooking, the GPU data for the mesh will be absent and any contact generation involving this mesh will be processed on CPU.</p></li>
<li><p>Any pairs requesting contact modification will be processed on the CPU.</p></li>
<li><p>PxSceneFlag::eENABLE_PCM must be enabled for GPU contact generation to be performed. This is the only form of contact generation implemented on the GPU. If eENABLE_PCM is not raised, contact generation will be processed on CPU for all pairs using the non distance-based legacy contact generation.</p></li>
</ul>
<p>Irrespective of whether contact generation for a given pair is processed on CPU or GPU, the GPU solver will process all pairs with contacts that request collision response in their filter shader.</p>
<p>The GPU solver provides full support for joints and contacts.
However, best performance is achieved using D6 joints because D6 joints are natively supported on the GPU, i.e., the full solver pipeline from prep to solve is implemented on the GPU.
Other joint types are supported by the GPU solver but their joint shaders are run on the CPU.
This will incur some additional host-side performance overhead compared to D6 joints.</p>
</section>
<section id="performance-considerations">
<h2>Performance Considerations<a class="headerlink" href="#performance-considerations" title="Link to this heading">#</a></h2>
<p>GPU simulation can provide extremely large performance advantages over CPU simulation in scenes with several thousand active actors. However, there are some performance considerations to be taken into account.</p>
<ul class="simple">
<li><p>D6 joints will provide best performance when used with GPU rigid bodies. Other joint types will be partially GPU-accelerated but the performance advantages will be less than the performance advantage exhibited by D6 joints.</p></li>
<li><p>Convex hulls with more than 64 vertices or polygons or with more than 32 vertices per-face will have their contacts processed by the CPU rather than the GPU, so, if possible, keep vertex counts within these limits. Vertex limits can be defined in cooking to ensure that cooked convex hulls do not exceed these limits.</p></li>
<li><p>If your application makes heavy use of contact modification, this may limit the number of pairs that have contact generation performed on the GPU.</p></li>
<li><p>Modifying the state of actors forces data to be re-synced to the GPU, e.g. transforms for actors must be updated if the application adjusts global pose, velocities must be updated if the application modifies the bodies’ velocities etc.. The associated cost of re-syncing data to the GPU is relatively low but it should be taken into consideration.</p></li>
<li><p>Features such as joint projection, CCD and triggers are not GPU accelerated and are still processed on the CPU.</p></li>
</ul>
</section>
<section id="gpu-memory">
<span id="gpumemory"></span><h2>GPU Memory<a class="headerlink" href="#gpu-memory" title="Link to this heading">#</a></h2>
<p>Unlike CPU PhysX, the GPU simulation is not able to dynamically grow all buffers.
Therefore, it is necessary to provide pre-allocated buffer sizes for the GPU simulation, which are specified at scene creation through <a class="reference internal" href="../_api_build/classPxSceneDesc.html#_CPPv4N11PxSceneDesc17gpuDynamicsConfigE" title="PxSceneDesc::gpuDynamicsConfig"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">PxSceneDesc::gpuDynamicsConfig</span></code></a>.
Please refer to the API documentation for the exact meaning of the members of <a class="reference internal" href="../_api_build/structPxGpuDynamicsMemoryConfig.html#_CPPv425PxGpuDynamicsMemoryConfig" title="PxGpuDynamicsMemoryConfig"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">PxGpuDynamicsMemoryConfig</span></code></a>.</p>
<p>Corresponding default values are generally sufficient for scenes simulating approximately 10’000 rigid bodies.
If insufficient memory is available, the system will issue warnings and discard overflowing objects like contacts/constraints/pairs, which means that behavior may be adversely affected.
For tuning the pre-allocated sizes of subsequent runs, the simulation statistics (see <a class="reference internal" href="../_api_build/classPxSimulationStatistics.html#_CPPv422PxSimulationStatistics" title="PxSimulationStatistics"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">PxSimulationStatistics</span></code></a> and Section <a class="reference internal" href="Statistics.html#statistics"><span class="std std-ref">Simulation Statistics</span></a>) contain a <a class="reference internal" href="../_api_build/structPxGpuDynamicsMemoryConfigStatistics.html#_CPPv435PxGpuDynamicsMemoryConfigStatistics" title="PxGpuDynamicsMemoryConfigStatistics"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">PxGpuDynamicsMemoryConfigStatistics</span></code></a> which report the actual required values of the parameters in PxGpuDynamicsMemoryConfig for a simulation with GPU dynamics/broadphase.</p>
</section>
<section id="running-out-of-gpu-memory">
<h2>Running Out Of GPU Memory<a class="headerlink" href="#running-out-of-gpu-memory" title="Link to this heading">#</a></h2>
<p>GPU memory is a limited resource. Compared to traditional system memory, there is no transparent mechanism to swap rarely used memory regions to disk to avoid allocation failures and crashes. Therefore, it is possible that memory allocations can fail inside the GPU simulation pipeline because of insufficient memory. In case of a failed allocation, PhysX will stop all GPU work submission and mark the current scene as corrupted to avoid thrashing the CUDA context and crashing the GPU. As a consequence of this, PhysX will remain usable but all scenes that have been marked corrupted have to be recreated to continue simulation.</p>
<p>In case of an out-of-memory event, the following will happen:</p>
<ul class="simple">
<li><p>The GPU memory allocator will report an error with code <a class="reference internal" href="../_api_build/structPxErrorCode.html#_CPPv4N11PxErrorCode4Enum14eOUT_OF_MEMORYE" title="PxErrorCode::eOUT_OF_MEMORY"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxErrorCode::eOUT_OF_MEMORY</span></code></a>.</p></li>
<li><p>The PxCudaContext in use will be transitioned to abort mode, and skip any future work submission.</p></li>
<li><p><a class="reference internal" href="../_api_build/classPxCudaContext.html#_CPPv4N13PxCudaContext12getLastErrorEv" title="PxCudaContext::getLastError"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PxCudaContext::getLastError()</span></code></a> will return <cite>CUDA_ERROR_OUT_OF_MEMORY</cite>.</p></li>
<li><p>A lot of GPU-related errors will be reported due to the fact that GPU work will be skipped.</p></li>
<li><p>The next call to <a class="reference internal" href="../_api_build/classPxScene.html#_CPPv4N7PxScene12fetchResultsEbP5PxU32" title="PxScene::fetchResults"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PxScene::fetchResults()</span></code></a> or <a class="reference internal" href="../_api_build/classPxScene.html#_CPPv4N7PxScene14fetchCollisionEb" title="PxScene::fetchCollision"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PxScene::fetchCollision()</span></code></a> will return an error with code <a class="reference internal" href="../_api_build/structPxErrorCode.html#_CPPv4N11PxErrorCode4Enum6eABORTE" title="PxErrorCode::eABORT"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxErrorCode::eABORT</span></code></a>.</p></li>
<li><p>The scene that was simulated will be marked as corrupt, and any attempt to simulate further will return an error with code <a class="reference internal" href="../_api_build/structPxErrorCode.html#_CPPv4N11PxErrorCode4Enum15eINTERNAL_ERRORE" title="PxErrorCode::eINTERNAL_ERROR"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">PxErrorCode::eINTERNAL_ERROR</span></code></a>.</p></li>
<li><p>There is no guarantee that any data of a corrupt scene obtained through the API will be correct.</p></li>
</ul>
<p>Querying whether the <a class="reference internal" href="../_api_build/classPxCudaContext.html#_CPPv413PxCudaContext" title="PxCudaContext"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">PxCudaContext</span></code></a> is currently in abort mode can be done by calling <a class="reference internal" href="../_api_build/classPxCudaContext.html#_CPPv4N13PxCudaContext13isInAbortModeEv" title="PxCudaContext::isInAbortMode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PxCudaContext::isInAbortMode()</span></code></a>. This can be used instead of parsing the errors, or when the PhysX CUDA context manager is used outside of the core SDK for other GPU work. In case of an allocation failure outside of the SDK, the PhysX GPU allocator will not transition the <a class="reference internal" href="../_api_build/classPxCudaContext.html#_CPPv413PxCudaContext" title="PxCudaContext"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">PxCudaContext</span></code></a> to abort mode, but the user can do so themselves by calling <code class="docutils literal notranslate"><span class="pre">PxCudaContext::setAbortMode(true)</span></code>.</p>
<p>To reenable simulation and recover the <a class="reference internal" href="../_api_build/classPxCudaContext.html#_CPPv413PxCudaContext" title="PxCudaContext"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">PxCudaContext</span></code></a> from an out-of-memory scenario, the <a class="reference internal" href="../_api_build/classPxCudaContext.html#_CPPv413PxCudaContext" title="PxCudaContext"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">PxCudaContext</span></code></a> can be reset by calling <code class="docutils literal notranslate"><span class="pre">PxCudaContext::setAbortMode(false)</span></code>. Any scene that was marked corrupt needs to be recreated, and the user needs to verify that sufficient GPU memory is available.</p>
</section>
<section id="gpu-simulation-compatibility">
<h2>GPU Simulation Compatibility<a class="headerlink" href="#gpu-simulation-compatibility" title="Link to this heading">#</a></h2>
<p>This section outlines the compatibility of CPU-based PhysX features with GPU simulation, highlighting potential
incompatibilities and performance considerations.</p>
<ul class="simple">
<li><p>Custom Geometry is processed exclusively on the CPU and does not interact with GPU-only features such as deformable bodies and particles. Interacting with SDFs, custom geometry falls back to TriangleMesh collision, which can lead to suboptimal collision quality and performance.</p></li>
<li><p>Collision data generated by custom geometry and contact modification is not available through the Direct GPU API, limiting its use in GPU-accelerated simulations.</p></li>
<li><p>Features like contact modification, which are used to implement conveyor belts, rely on the CPU narrow phase. These features do not support collisions with GPU-only entities like deformable bodies and particles, potentially limiting their use in GPU-accelerated simulations.</p></li>
<li><p>While the GPU rigid body solver supports various joint types, only the D6 joint has a full GPU implementation, making it the most efficient for GPU simulations. Other joint types are partially GPU-accelerated but involve CPU processing, which can reduce performance.</p></li>
<li><p>Scene queries are executed on the CPU and do not interact with GPU-only features such as deformable bodies. This limitation means that any collision queries involving GPU-accelerated entities must be handled separately or through CPU fallback mechanisms.</p></li>
<li><p>Both the deformable body and particle system features are GPU-only and thus will not interact with CPU-only features like custom geometry, contact modification or scene queries.</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Articulations.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Articulations</p>
      </div>
    </a>
    <a class="right-next"
       href="DirectGPUAPI.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Direct GPU API</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-rigid-bodies">GPU Rigid Bodies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pdb-particle-systems">PDB Particle Systems</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fem-deformable-bodies">FEM Deformable Bodies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sdf-mesh-geometry">SDF Mesh Geometry</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#direct-gpu-api">Direct GPU API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-gpu-accelerated">What is GPU accelerated?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-considerations">Performance Considerations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-memory">GPU Memory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-out-of-gpu-memory">Running Out Of GPU Memory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-simulation-compatibility">GPU Simulation Compatibility</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">



  <p class="copyright">
    
      Copyright © 2022-2025, NVIDIA Corporation.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item"><p class="last-updated">
  Last updated on Mar 24, 2025.
  <br/>
</p></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>