.. _GjkQueries:

-----------
Gjk Queries
-----------

============
Introduction
============
The collection of query functions using GJK Support Mappings.

===============
Support Mapping
===============
All functions in this API accept the references to PxGjkQuery::Support virtual interfaces. To implement a support mapping user should inherit this interface and implement its virtual functions. Every support mapping represents a custom convex shape, which consists of a core shape and a margin. For example, a sphere core shape will be represented by a single point - the sphere center, and a margin as the sphere radius; a capsule will have the core shape as a line segment - two points, and a margin - radius. The margin can be set to zero. For a box, the core shape will consist of eight points - the box corners, and a zero margin.
PxGjkQuery::Support virtual interface has two virtual functions: getMargin, supportLocal.

Margin
------
Function getMargin should return the margin of the shape. For a sphere or capsule it should always return radius. For a box it should always return zero.

Local Support
-------------
Function supportLocal should return the farthest point of the shapes's core. For a sphere it should always return the sphere center.

=======
Queries
=======
The API has four query functions: generateContacts, raycast, overlap, sweep.

Contact Generation
------------------
Function generateContacts computes a collision contact between two custom convex shapes. Reports the collision point, normal and penetration depth.

Raycast
-------
Function raycast traces a ray against the custom convex shape. Reports the point of impact, its distance and normal.

Overlap
-------
Function overlap tests the intersection between two custom convex shapes.

Sweep
-----
Function sweep sweeps one custom convex shape against the other. Reports the point of impact, its distance and normal.

=========================
Pre-made Support Mappings
=========================
The API provides four pre-made support mappings: SphereSupport, CapsuleSupport, BoxSupport, ConvexMeshSupport; and one universal for all the previous types: ConvexGeomSupport.

